<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Dynasty Trade Machine</title>
    <link rel="icon" type="image/x-icon" href="FAVICON_MF-sem fundo.png">

    <style>
        :root {
            --nba-blue: #1d428a;
            --nba-red: #c8102e;
            --cap-max: 289963125;
            --cap-min: 260966250;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffca28;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            color: #333;
        }

        .header {
            background: var(--nba-blue);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 5px solid var(--nba-red);
        }

        .header h1 {
            font-size: 1.8rem;
            letter-spacing: 1px;
        }

        .team-select-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: white;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .select-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .gm-top-label {
            font-size: 0.85rem;
            font-weight: bold;
            color: var(--nba-red);
            margin-top: 5px;
            text-transform: uppercase;
        }

        select {
            padding: 10px;
            font-size: 1rem;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 280px;
            cursor: pointer;
        }

        .trade-container {
            display: flex;
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: auto;
        }

        .team-section {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            min-height: 400px;
        }

        h2 {
            margin-bottom: 5px;
            text-align: center;
            color: var(--nba-blue);
            font-size: 1.4rem;
        }

        .gm-section-label {
            text-align: center;
            display: block;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #666;
            font-style: italic;
        }

        .player-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .player-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid #eee;
            border-radius: 6px;
            cursor: pointer;
            transition: 0.2s;
        }

        .player-item:hover {
            background: #fdfdfd;
            border-color: #ddd;
        }

        .player-item input {
            margin-right: 15px;
            transform: scale(1.3);
            cursor: pointer;
        }

        .player-info {
            flex-grow: 1;
        }

        .player-salary {
            font-weight: bold;
            color: var(--nba-blue);
            margin-top: 2px;
        }

        .player-item.selected {
            background: #fff5f5;
            border-color: var(--nba-red);
        }

        .trade-summary {
            max-width: 1400px;
            margin: 20px auto;
            padding: 25px;
            background: #1a1a1a;
            color: white;
            border-radius: 8px;
        }

        .global-list {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border: 1px dashed #444;
        }

        .token {
            display: inline-block;
            background: var(--nba-red);
            padding: 5px 12px;
            border-radius: 20px;
            margin: 5px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .cap-status {
            padding: 20px;
            border-radius: 6px;
            background: #2a2a2a;
            border-top: 4px solid var(--nba-blue);
        }

        .status-value {
            font-size: 1.6rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .valid {
            color: var(--success);
        }

        .invalid {
            color: var(--danger);
        }

        .under-min {
            color: var(--warning);
        }

        .diff-label {
            font-size: 0.9rem;
            margin-bottom: 10px;
            display: block;
            font-weight: 500;
        }

        .cap-rules {
            font-size: 0.75rem;
            color: #888;
            margin-top: 5px;
            display: block;
        }

        @media (max-width: 800px) {
            .trade-container {
                flex-direction: column;
            }

            .team-select-container {
                flex-direction: column;
                align-items: center;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }

            select {
                width: 100%;
            }
        }
    </style>
</head>

<body>

    <header class="header">
        <h1>NBA DYNASTY TRADE MACHINE</h1>
        <p>Simulador Oficial de Trocas - Dynasty League</p>
    </header>

    <div class="team-select-container">
        <div class="select-box">
            <select id="select-team-a" onchange="renderPlayers('A')"></select>
            <span id="top-gm-a" class="gm-top-label">GM: -</span>
        </div>
        <span style="font-weight: bold; margin-top: 10px; color: #666;">X</span>
        <div class="select-box">
            <select id="select-team-b" onchange="renderPlayers('B')"></select>
            <span id="top-gm-b" class="gm-top-label">GM: -</span>
        </div>
    </div>

    <div class="trade-container">
        <section class="team-section">
            <h2 id="name-a">Time A</h2>
            <span id="gm-a" class="gm-section-label">GM: -</span>
            <div class="player-list" id="list-container-a"></div>
        </section>

        <section class="team-section">
            <h2 id="name-b">Time B</h2>
            <span id="gm-b" class="gm-section-label">GM: -</span>
            <div class="player-list" id="list-container-b"></div>
        </section>
    </div>

    <div class="trade-summary">
        <div class="global-list">
            <strong>Ativos Selecionados na Troca:</strong>
            <div id="global-tokens" style="margin-top:12px;">Nenhum jogador selecionado.</div>
        </div>

        <div class="summary-grid">
            <div class="cap-status">
                <h3 id="summary-name-a">Time A</h3>
                <div class="status-value" id="val-a">$0</div>
                <span class="diff-label" id="diff-a">Balanço: $0</span>
                <div id="sent-a" style="font-size: 0.85rem; color: #bbb; line-height: 1.4;">Enviando: nada</div>
                <span class="cap-rules">Mín: $260.9M | Máx: $289.9M</span>
            </div>
            <div class="cap-status">
                <h3 id="summary-name-b">Time B</h3>
                <div class="status-value" id="val-b">$0</div>
                <span class="diff-label" id="diff-b">Balanço: $0</span>
                <div id="sent-b" style="font-size: 0.85rem; color: #bbb; line-height: 1.4;">Enviando: nada</div>
                <span class="cap-rules">Mín: $260.9M | Máx: $289.9M</span>
            </div>
        </div>
    </div>

    <script>
        const CAP_MAX = 289963.12; // Ajustado para a escala dos dados (k)
        const CAP_MIN = 260966.25;

        const nbaData = {
            "Atlanta Bahia Hawks": {
                gm: "Breno",
                players: [
                    { name: "Trae Young", salary: 45999660.00, pos: "PG" },
                    { name: "Devin Booker", salary: 53510800.00, pos: "PG/SG" },
                    { name: "Franz Wagner", salary: 35147000.00, pos: "SF/PF" },
                    { name: "Lauri Markkanen", salary: 46391753.00, pos: "PF/SF" },
                    { name: "Ivica Zubac", salary: 19392000.00, pos: "C" },
                    { name: "Andrew Nembhard", salary: 18103448.00, pos: "PG/SG" },
                    { name: "Nickeil Alexander-Walker", salary: 8000000.00, pos: "SG" },
                    { name: "Kelly Oubre", salary: 8249000.00, pos: "SF/SG" },
                    { name: "Sion James", salary: 2296.27, pos: "SF/SG" }, // Rookie mantido
                    { name: "Bub Carrington", salary: 4834200.00, pos: "PG" },
                    { name: "Kris Murray", salary: 8995560.00, pos: "PF" },
                    { name: "Will Riley", salary: 3512.52, pos: "SF/SG" }, // Rookie mantido
                    { name: "Nikola Topic", salary: 5004120.00, pos: "PG" },
                    { name: "Julian Champagnie", salary: 2350000.00, pos: "SF" },
                    { name: "Johnny Furphy", salary: 1891857.00, pos: "SG" },
                    { name: "Sandro Mamukelashvili", salary: 2162607.00, pos: "PF" },
                    { name: "Steven Adams", salary: 12600000.00, pos: "C" },
                    { name: "Kasparas Jakucionis", salary: 3658.80, pos: "PG" }, // Rookie mantido
                    { name: "Gui Santos", salary: 2221677.00, pos: "SF" }
                ]
            },
            "Milwaukee United": {
                gm: "Abner",
                players: [
                    { name: "Luka Dončić", salary: 48967380.00, pos: "PG" },
                    { name: "CJ McCollum", salary: 30666666.00, pos: "SG/PG" },
                    { name: "Cooper Flagg", salary: 13825.92, pos: "SF/PF" }, // Rookie mantido
                    { name: "Kevin Durant", salary: 54708608.00, pos: "PF" },
                    { name: "Victor Wembanyama", salary: 14451120.00, pos: "C" },
                    { name: "Dennis Schroder", salary: 13500000.00, pos: "PG" },
                    { name: "Keldon Johnson", salary: 17500000.00, pos: "SF/PF" },
                    { name: "PJ Washington", salary: 14153846.00, pos: "PF" },
                    { name: "Josh Hart", salary: 19405446.00, pos: "SF/SG" },
                    { name: "Sam Merrill", salary: 3500000.00, pos: "SG" },
                    { name: "Jay Huff", salary: 2300000.00, pos: "C" },
                    { name: "AJ Green", salary: 2425403.00, pos: "SG" },
                    { name: "Dillon Brooks", salary: 21124050.00, pos: "SF/SG" },
                    { name: "Hugo Gonzalez", salary: 2783.88, pos: "SF/SG" }, // Rookie mantido
                    { name: "Jake LaRavia", salary: 5163127.00, pos: "PF" },
                    { name: "Jeremiah Fears", salary: 7520.04, pos: "SG/PG" }, // Rookie mantido
                    { name: "Caleb Love", salary: 2000.00, pos: "SG" }
                ]
            },
            "New England Goat": {
                gm: "Joseph",
                players: [
                    { name: "Stephen Curry", salary: 59606248.00, pos: "PG" },
                    { name: "Desmond Bane", salary: 37011200.00, pos: "SG/SF" },
                    { name: "Mikal Bridges (NYK)", salary: 24900000.00, pos: "SF/SG" },
                    { name: "Karl Anthony-Towns", salary: 53123500.00, pos: "C/PF" },
                    { name: "Jared McCain", salary: 4204440.00, pos: "PG" },
                    { name: "Derrick White", salary: 28125000.00, pos: "SG/PG" },
                    { name: "Bam Adebayo", salary: 37096774.00, pos: "C" },
                    { name: "Aaron Gordon", salary: 32142857.00, pos: "PF" },
                    { name: "Moussa Diabate", salary: 2100000.00, pos: "PF" },
                    { name: "Brandon Williams", salary: 2000000.00, pos: "PG" },
                    { name: "Dereck Lively II", salary: 5273880.00, pos: "C" },
                    { name: "Khaman Maluach", salary: 6016.08, pos: "C" }, // Rookie mantido
                    { name: "Walker Kessler", salary: 4878791.00, pos: "C" },
                    { name: "Noa Essengue", salary: 5429.52, pos: "PF" }, // Rookie mantido
                    { name: "Walter Clayton Jr", salary: 3991.32, pos: "SG/PG" }, // Rookie mantido
                    { name: "Asa Newell", salary: 3237.48, pos: "PF" }, // Rookie mantido
                    { name: "Ziaire Williams", salary: 6133005.00, pos: "SF" }
                ]
            },
            "Minnesota Lupe": {
                gm: "Duarte",
                players: [
                    { name: "Dylan Harper", salary: 12370.32, pos: "PG/SG" }, // Rookie mantido
                    { name: "Ayo Dosunmu", salary: 7000000.00, pos: "SG" },
                    { name: "Paul George", salary: 51728400.00, pos: "SF/PF" },
                    { name: "Nicolas Claxton", salary: 26022727.00, pos: "C" },
                    { name: "Sippen Jr.", salary: 2100000.00, pos: "PG" },
                    { name: "Jaime Jaquez Jr", salary: 3861600.00, pos: "SF/SG" },
                    { name: "Jerami Grant", salary: 32000000.00, pos: "PF" },
                    { name: "Luke Kornet", salary: 2200000.00, pos: "C" },
                    { name: "Moses Moody", salary: 12000000.00, pos: "SG" },
                    { name: "Gary Trent Jr", salary: 2800000.00, pos: "SG" },
                    { name: "Tobias Harris", salary: 24441860.00, pos: "PF/SF" },
                    { name: "Miles McBride", salary: 3947368.00, pos: "PG" },
                    { name: "Collin Gillespie", salary: 2100000.00, pos: "PG" },
                    { name: "Obi Toppin", salary: 13425000.00, pos: "PF" },
                    { name: "Cam Thomas", salary: 25000000.00, pos: "SG" },
                    { name: "Jonathan Kuminga", salary: 30000000.00, pos: "PF" }
                ]
            },
            "Kansas City Falcons": {
                gm: "Natan",
                players: [
                    { name: "Ja Morant", salary: 39146800.00, pos: "PG" },
                    { name: "Donovan Mitchell", salary: 15011000.00, pos: "SG/PG" },
                    { name: "Jalen Johnson", salary: 31375000.00, pos: "PF" },
                    { name: "Onyeka Okongwu", salary: 14000000.00, pos: "C" },
                    { name: "Scoot Henderson", salary: 10750560.00, pos: "PG" },
                    { name: "Jaden Ivey", salary: 10107163.00, pos: "SG" },
                    { name: "Bilal Coulibaly", salary: 7275600.00, pos: "SF" },
                    { name: "Brandin Podziemski", salary: 3687960.00, pos: "SG/PG" },
                    { name: "Austin Reaves", salary: 14924167.00, pos: "SG/SF" },
                    { name: "Cason Wallace", salary: 5524320.00, pos: "SG" },
                    { name: "Mitchell Robinson", salary: 12959459.00, pos: "C" },
                    { name: "Justin Champagnie", salary: 2350000.00, pos: "SF" },
                    { name: "Tari Eason", salary: 5675766.00, pos: "SF" },
                    { name: "Ty Jerome", salary: 2700000.00, pos: "PG" },
                    { name: "Jalen Pickett", salary: 2221677.00, pos: "SG/PG" },
                    { name: "Max Strus", salary: 15212068.00, pos: "SF/SG" },
                    { name: "Kon Knueppel", salary: 10015.68, pos: "SG" }, // Rookie mantido
                    { name: "Aaron Wiggins", salary: 5038143.00, pos: "SG" }
                ]
            },
            "Seattle Waves": {
                gm: "Fiais",
                players: [
                    { name: "Shai Gilgeous-Alexander", salary: 38334000.00, pos: "PG" },
                    { name: "Norman Powell", salary: 20484146.00, pos: "SG/SF" },
                    { name: "Alperen Şengün", salary: 31375000.00, pos: "C" },
                    { name: "TJ McConnell", salary: 8700000.00, pos: "PG" },
                    { name: "Demar DeRozan", salary: 23741067.00, pos: "SF/PF" },
                    { name: "Michael Porter Jr", salary: 38333016.00, pos: "SF" },
                    { name: "Hansen Yang", salary: 4422.36, pos: "C" }, // Rookie mantido
                    { name: "Keyonte George", salary: 4272000.00, pos: "PG/SG" },
                    { name: "Julius Randle", salary: 30935520.00, pos: "PF" },
                    { name: "Donte DiVicenzo", salary: 12544285.00, pos: "SG" },
                    { name: "Wendell Carter Jr", salary: 11538462.00, pos: "C" },
                    { name: "Tyrese Haliburton", salary: 42176400.00, pos: "PG/SG" },
                    { name: "Devin Cardwell", salary: 2221677.00, pos: "C" },
                    { name: "Brandon Ingram", salary: 38000000.00, pos: "SF" },
                    { name: "Tre Jones", salary: 11000000.00, pos: "PG" }
                ]
            },
            "Seattle Grunge's": {
                gm: "Cromwell",
                players: [
                    { name: "Darius Garland", salary: 39446000.00, pos: "PG" },
                    { name: "Klay Thompson", salary: 15833333.00, pos: "SG/SF" },
                    { name: "Jabari Smith Jr", salary: 10643110.00, pos: "PF/C" },
                    { name: "Alex Sarr", salary: 11844480.00, pos: "C/PF" },
                    { name: "John Collins", salary: 26580000.00, pos: "PF/C" },
                    { name: "Luguentz Dort", salary: 17722000.00, pos: "SG/SF" },
                    { name: "Dejounte Murray", salary: 30707965.00, pos: "SG/PG" },
                    { name: "Rui Hachimura", salary: 18259259.00, pos: "PF/SF" },
                    { name: "Toumani Camara", salary: 2221677.00, pos: "PF" },
                    { name: "Benedict Mathurin", salary: 9187573.00, pos: "SF/SG" },
                    { name: "Jaylen Wells", salary: 1955377.00, pos: "SG" },
                    { name: "Collin Sexton", salary: 19150000.00, pos: "SG/PG" },
                    { name: "Naz Reid", salary: 15022464.00, pos: "C/PF" },
                    { name: "Yves Missi", salary: 3351120.00, pos: "C" },
                    { name: "Max Christie", salary: 7142857.00, pos: "SG" },
                    { name: "Kyle Kuzma", salary: 21477273.00, pos: "PF/SF" },
                    { name: "Anthony Black", salary: 7970280.00, pos: "PG/SG" },
                    { name: "Kyle Filipowski", salary: 1891857.00, pos: "PF" }
                ]
            },
            "Baltimore Ducks": {
                gm: "Italo",
                players: [
                    { name: "Cade Cunningham", salary: 35147000.00, pos: "PG/SG" },
                    { name: "Scottie Barnes", salary: 35147000.00, pos: "SF/SG/PF" },
                    { name: "Evan Mobley", salary: 35147000.00, pos: "PF/C" },
                    { name: "Nikola Vučević", salary: 20000000.00, pos: "C" },
                    { name: "Jalen Brunson", salary: 34944000.00, pos: "PG" },
                    { name: "Quentin Grimes", salary: 6500000.00, pos: "SG" },
                    { name: "Amen Thompson", salary: 9676440.00, pos: "SF/PF/SG" },
                    { name: "Ausar Thompson", salary: 8375040.00, pos: "SF/PF" },
                    { name: "Trendon Watford", salary: 2900000.00, pos: "PF" },
                    { name: "Deandre Ayton", salary: 35971084.00, pos: "C" },
                    { name: "Jarrett Allen", salary: 20000000.00, pos: "C" },
                    { name: "Trey Murphy III", salary: 24107143.00, pos: "SF/SG" },
                    { name: "Zach Edey", salary: 4124040.00, pos: "C" },
                    { name: "Ace Bailey", salary: 9069.84, pos: "SF/PF" }, // Rookie mantido
                    { name: "Nolan Traore", salary: 3811.56, pos: "PG" }, // Rookie mantido
                    { name: "Reed Sheppard", salary: 10517040.00, pos: "SG" },
                    { name: "Tyrese Proctor", salary: 1272.87, pos: "SG" }, // Rookie mantido
                    { name: "D. Barlow", salary: 2458541.00, pos: "C" }
                ]
            },
            "Los Angeles Beckers": {
                gm: "Becker",
                players: [
                    { name: "Kyrie Irving", salary: 42962963.00, pos: "PG/SG" },
                    { name: "Tyrese Maxey", salary: 37833600.00, pos: "PG/SG" },
                    { name: "Kawhi Leonard", salary: 50317762.00, pos: "SF/PF" },
                    { name: "Jalen Williams", salary: 6580997.00, pos: "PF" },
                    { name: "Joel Embiid", salary: 55224519.00, pos: "C" },
                    { name: "Stephon Castle", salary: 9550680.00, pos: "PG/SG" },
                    { name: "Zach LaVine", salary: 45999660.00, pos: "SG/SF" },
                    { name: "Cam Whitmore", salary: 3539760.00, pos: "SF" },
                    { name: "Keegan Murray", salary: 8995560.00, pos: "PF/SF" },
                    { name: "Jalen Duren", salary: 6483144.00, pos: "C" },
                    { name: "André Drummond", salary: 5000000.00, pos: "C" },
                    { name: "GG Jackson", salary: 2221677.00, pos: "PF" },
                    { name: "Oso Ighodaro", salary: 1891857.00, pos: "PF/C" },
                    { name: "Cody Williams", salary: 10000000.00, pos: "SG" },
                    { name: "De'Anthony Melton", salary: 12822000.00, pos: "PG/SG" },
                    { name: "Cam Spencer", salary: 1955377.00, pos: "SG" },
                    { name: "Maxime Raynaud", salary: 1272.87, pos: "C" }, // Rookie mantido
                    { name: "Collin Murray-Boyles", salary: 6332.52, pos: "PF" }, // Rookie mantido
                    { name: "K. Sanders", salary: 1000.00, pos: "PF" }
                ]
            },
            "San Francisco Red Eagles": {
                gm: "Bemfica",
                players: [
                    { name: "LaMelo Ball", salary: 37011200.00, pos: "PG" },
                    { name: "Brandon Miller", salary: 11469120.00, pos: "SF/SG" },
                    { name: "Paolo Banchero", salary: 15334769.00, pos: "PF/SF" },
                    { name: "Rudy Gobert", salary: 43827160.00, pos: "C" },
                    { name: "Royce O'Neale", salary: 10100000.00, pos: "SF" },
                    { name: "Ryan Kalkbrenner", salary: 2296.27, pos: "C" }, // Rookie mantido
                    { name: "Matas Buzelis", salary: 5461080.00, pos: "SF" },
                    { name: "Tyler Herro", salary: 31000000.00, pos: "SG/PG" },
                    { name: "Luke Kennard", salary: 11000000.00, pos: "SG" },
                    { name: "Carter Bryant", salary: 2800000.00, pos: "SF" },
                    { name: "Zion Williamson", salary: 39446000.00, pos: "PF" },
                    { name: "Jordan Poole", salary: 31785714.00, pos: "SG/PG" },
                    { name: "Cam Johnson", salary: 21477273.00, pos: "SF/PF" },
                    { name: "Noah Clowney", salary: 3398640.00, pos: "PF" },
                    { name: "Tre Johnson", salary: 1200000.00, pos: "SG" }
                ]
            },
            "D.C. Tambaqui": {
                gm: "Icaro",
                players: [
                    { name: "De'Aaron Fox", salary: 37096620.00, pos: "PG" },
                    { name: "Anthony Edwards", salary: 42176400.00, pos: "SG/SF" },
                    { name: "Anthony Davis", salary: 52221800.00, pos: "C/PF" },
                    { name: "Jakob Pöeltl", salary: 20000000.00, pos: "C" },
                    { name: "Adem Bona", salary: 1955377.00, pos: "C" },
                    { name: "Santi Aldama", salary: 7000000.00, pos: "PF/C" },
                    { name: "Jarace Walker", salary: 6339000.00, pos: "PF" },
                    { name: "Kris Dunn", salary: 5833333.00, pos: "PG" },
                    { name: "Donovan Clingan", salary: 7002120.00, pos: "C" },
                    { name: "Jalen Smith", salary: 10643110.00, pos: "PF/C" },
                    { name: "Jock Landale", salary: 8000000.00, pos: "C" },
                    { name: "Noah Penda", salary: 1272.87, pos: "SF/PF" }, // Rookie mantido
                    { name: "Coby White", salary: 12000000.00, pos: "PG/SG" },
                    { name: "Jayson Tatum", salary: 50317762.00, pos: "PF/SF" },
                    { name: "Isaiah Collier", salary: 2621040.00, pos: "PG" }
                ]
            },
            "San Antonio Stars": {
                gm: "Fernando",
                players: [
                    { name: "Josh Giddey", salary: 25000000.00, pos: "SG/SF" },
                    { name: "Giannis Antetokounmpo", salary: 53510800.00, pos: "PF/C" },
                    { name: "Jusuf Nurkić", salary: 19375000.00, pos: "C" },
                    { name: "Khris Middleton", salary: 34012345.00, pos: "SF" },
                    { name: "Jimmy Butler III", salary: 52413394.00, pos: "SF/SG/PF" },
                    { name: "Russell Westbrook", salary: 3468960.00, pos: "PG" },
                    { name: "Deni Avdija", salary: 14318182.00, pos: "SF/PF" },
                    { name: "Grayson Allen", salary: 8500000.00, pos: "SG/PG" },
                    { name: "Jrue Holiday", salary: 3468960.00, pos: "PG/SG" },
                    { name: "Egor Demin", salary: 6889.20, pos: "PG" }, // Rookie mantido
                    { name: "Tim Hardaway Jr", salary: 12000000.00, pos: "SG/SF" },
                    { name: "Pelle Larsson", salary: 1955377.00, pos: "SG" },
                    { name: "Buddy Hield", salary: 9225000.00, pos: "SG/SF" },
                    { name: "Robert Williams III", salary: 13285713.00, pos: "C" },
                    { name: "Luka Garza", salary: 2349578.00, pos: "C" },
                    { name: "Bradley Beal", salary: 53666270.00, pos: "SF/SG" },
                    { name: "Damian Lillard", salary: 53510800.00, pos: "PG" },
                    { name: "Sam Hauser", salary: 10000000.00, pos: "SF" },
                    { name: "Jonas Valanciunas", salary: 9960000.00, pos: "C" }
                ]
            },
            "Tampa Bay Mariners": {
                gm: "Cauli",
                players: [
                    { name: "Nikola Jokić", salary: 55224519.00, pos: "C" },
                    { name: "Saddiq Bey", salary: 6400000.00, pos: "SF/PF" },
                    { name: "RJ Barrett", salary: 28141071.00, pos: "SF/SG" },
                    { name: "Daniel Gafford", salary: 14390244.00, pos: "C" },
                    { name: "Herb Jones", salary: 13875000.00, pos: "SF/PF" },
                    { name: "Jaden McDaniels", salary: 24430358.00, pos: "SF" },
                    { name: "Day'Ron Sharpe", salary: 6000000.00, pos: "C" },
                    { name: "Joan Beringer", salary: 4201.08, pos: "C" }, // Rookie mantido
                    { name: "Jordan Goodwin", salary: 2100000.00, pos: "PG/SG" },
                    { name: "Duncan Robinson", salary: 19888000.00, pos: "SF" },
                    { name: "Harrison Barnes", salary: 19000000.00, pos: "SF" },
                    { name: "Chet Holmgren", salary: 13731368.00, pos: "C" },
                    { name: "Ron Holland II", salary: 8834160.00, pos: "SF" },
                    { name: "Isaiah Stewart", salary: 15000000.00, pos: "C/PF" },
                    { name: "Kevin Huerter", salary: 17991071.00, pos: "SG/SF" },
                    { name: "Jamal Shead", salary: 2221677.00, pos: "PG" },
                    { name: "Donovan Mitchell", salary: 46391753.00, pos: "SG" },
                    { name: "Zaccharie Risacher", salary: 13212360.00, pos: "SF" }
                ]
            },
            "Las Vegas Aces": {
                gm: "Rian",
                players: [
                    { name: "Jamal Murray", salary: 42492492.00, pos: "PG" },
                    { name: "LeBron James", salary: 52627153.00, pos: "SF/PF" },
                    { name: "Domantas Sabonis", salary: 44057515.00, pos: "PF/C" },
                    { name: "Payton Pritchard", salary: 7250000.00, pos: "PG" },
                    { name: "OG Anunoby", salary: 39370370.00, pos: "SF/PF" },
                    { name: "Mark Williams", salary: 4582680.00, pos: "C" },
                    { name: "Cedric Coward", salary: 5715.12, pos: "SF/SG" }, // Rookie mantido
                    { name: "Immanuel Quickley", salary: 32500000.00, pos: "PG/SG" },
                    { name: "Mikal Bridges", salary: 24900000.00, pos: "SF/SG" },
                    { name: "Kel'el Ware", salary: 4383960.00, pos: "C" },
                    { name: "Jaylon Tyson", salary: 2621040.00, pos: "SG" },
                    { name: "Ryan Rollins", salary: 2300000.00, pos: "SG" },
                    { name: "Nikola Jović", salary: 4445417.00, pos: "PF" },
                    { name: "Derik Queen", salary: 2162607.00, pos: "C" }
                ]
            },
            "Texas Rangers": {
                gm: "Diego",
                players: [
                    { name: "James Harden", salary: 36346154.00, pos: "PG/SG" },
                    { name: "Jaylen Brown", salary: 53510800.00, pos: "SF/SG" },
                    { name: "Dyson Daniels", salary: 7707720.00, pos: "SG/PG" },
                    { name: "Isaiah Hartenstein", salary: 30000000.00, pos: "C" },
                    { name: "Draymond Green", salary: 10000000.00, pos: "PF/C" },
                    { name: "Peyton Watson", salary: 4556123.00, pos: "SF" },
                    { name: "Tristan da Silva", salary: 3837240.00, pos: "SF" },
                    { name: "Pascal Siakam", salary: 45586207.00, pos: "PF" },
                    { name: "Devin Vassell", salary: 27000000.00, pos: "SG/SF" },
                    { name: "Deandre Hunter", salary: 23303571.00, pos: "SF/PF" },
                    { name: "Neemias Queta", salary: 2349578.00, pos: "C" },
                    { name: "Marvin Bagley III", salary: 14700000.00, pos: "PF/C" },
                    { name: "Naji Marshall", salary: 8666667.00, pos: "SF" },
                    { name: "Christian Braun", salary: 4921797.00, pos: "SG" },
                    { name: "Brice Sensabaugh", salary: 3214080.00, pos: "SF" },
                    { name: "Danny Wolf", salary: 2801.28, pos: "PF" }, // Rookie mantido
                    { name: "K. George", salary: 2458541.00, pos: "SG" }
                ]
            },
            "New México Sun": {
                gm: "Endrews",
                players: [
                    { name: "Jalen Suggs", salary: 30125000.00, pos: "PG/SG" },
                    { name: "Kristaps Porziņģis", salary: 30733520.00, pos: "C/PF" },
                    { name: "Jaren Jackson Jr", salary: 29903030.00, pos: "C/PF" },
                    { name: "Anfernee Simons", salary: 27678571.00, pos: "SG/PG" },
                    { name: "VJ Edgecombe", salary: 11108.88, pos: "SG" }, // Rookie mantido
                    { name: "Malik Monk", salary: 18223732.00, pos: "SG/SF" },
                    { name: "Vince Williams Jr.", salary: 2301587.00, pos: "SG/PG" },
                    { name: "Ajay Mitchell", salary: 3944160.00, pos: "PG" },
                    { name: "Craig Porter Jr (CLE)", salary: 2221677.00, pos: "SG" },
                    { name: "Al Horford", salary: 9500000.00, pos: "C/PF" },
                    { name: "Bobby Portis", salary: 13445754.00, pos: "PF" },
                    { name: "Fred VanVleet", salary: 44886930.00, pos: "PG" },
                    { name: "A. Nesmith", salary: 11000000.00, pos: "SF" },
                    { name: "Jalen Green", salary: 30000000.00, pos: "SG" },
                    { name: "Shaedon Sharpe", salary: 8396934.00, pos: "SG" },
                    { name: "Myles Turner", salary: 22000000.00, pos: "C" },
                    { name: "Kevin Porter Jr (LAC)", salary: 2382143.00, pos: "SG" }
                ]
            }
        };

        // Calcular o teto total inicial de cada time para a lógica da troca funcionar
        for (let team in nbaData) {
            nbaData[team].totalCap = nbaData[team].players.reduce((sum, p) => sum + p.salary, 0);
        }

        let globalSelection = {};
        Object.keys(nbaData).forEach(team => globalSelection[team] = []);

        function init() {
            const selectA = document.getElementById('select-team-a');
            const selectB = document.getElementById('select-team-b');
            Object.keys(nbaData).sort().forEach(team => {
                selectA.add(new Option(team, team));
                selectB.add(new Option(team, team));
            });
            selectA.value = "Atlanta Bahia Hawks";
            selectB.value = "Milwaukee United";
            renderPlayers('A');
            renderPlayers('B');
        }

        function togglePlayer(teamName, playerName, salary) {
            const index = globalSelection[teamName].findIndex(p => p.name === playerName);
            if (index === -1) globalSelection[teamName].push({ name: playerName, salary });
            else globalSelection[teamName].splice(index, 1);

            updateGlobalTokens();
            calculateTrade();
        }

        function updateGlobalTokens() {
            const container = document.getElementById('global-tokens');
            container.innerHTML = "";
            let hasAny = false;
            for (const team in globalSelection) {
                globalSelection[team].forEach(p => {
                    hasAny = true;
                    const span = document.createElement('span');
                    span.className = 'token';
                    span.innerText = `${p.name} (${team})`;
                    container.appendChild(span);
                });
            }
            if (!hasAny) container.innerText = "Nenhum jogador selecionado.";
        }

        function renderPlayers(side) {
            const teamName = document.getElementById(`select-team-${side.toLowerCase()}`).value;
            const container = document.getElementById(`list-container-${side.toLowerCase()}`);
            const gmName = nbaData[teamName].gm;

            document.getElementById(`name-${side.toLowerCase()}`).innerText = teamName;
            document.getElementById(`gm-${side.toLowerCase()}`).innerText = "GM: " + gmName;
            document.getElementById(`top-gm-${side.toLowerCase()}`).innerText = "GM: " + gmName;

            container.innerHTML = "";
            nbaData[teamName].players.forEach(player => {
                const isChecked = globalSelection[teamName].some(p => p.name === player.name);
                const label = document.createElement('label');
                label.className = `player-item ${isChecked ? 'selected' : ''}`;
                label.innerHTML = `
                <input type="checkbox" ${isChecked ? 'checked' : ''} 
                    onchange="togglePlayer('${teamName}', '${player.name}', ${player.salary}); this.parentElement.classList.toggle('selected')">
                <div class="player-info">
                    <div>${player.name} (${player.pos})</div>
                    <div class="player-salary">${formatMoney(player.salary)}</div>
                </div>`;
                container.appendChild(label);
            });
            calculateTrade();
        }

        function calculateTrade() {
            const teamA = document.getElementById('select-team-a').value;
            const teamB = document.getElementById('select-team-b').value;

            document.getElementById('summary-name-a').innerText = "Novo Teto: " + teamA;
            document.getElementById('summary-name-b').innerText = "Novo Teto: " + teamB;

            let finalA = nbaData[teamA].totalCap;
            let finalB = nbaData[teamB].totalCap;
            let sentA = [], sentB = [];

            for (const team in globalSelection) {
                globalSelection[team].forEach(p => {
                    if (team === teamA) {
                        finalA -= p.salary;
                        finalB += p.salary;
                        sentA.push(p.name);
                    }
                    else if (team === teamB) {
                        finalB -= p.salary;
                        finalA += p.salary;
                        sentB.push(p.name);
                    }
                });
            }

            const diffA = finalA - nbaData[teamA].totalCap;
            const diffB = finalB - nbaData[teamB].totalCap;

            updateUI('a', finalA, diffA, sentA);
            updateUI('b', finalB, diffB, sentB);
        }

        function updateUI(side, total, diff, names) {
            const valEl = document.getElementById(`val-${side}`);
            const diffEl = document.getElementById(`diff-${side}`);
            const sentEl = document.getElementById(`sent-${side}`);

            valEl.innerText = formatMoney(total);

            // Lógica de validação do Cap
            if (total > CAP_MAX) valEl.className = "status-value invalid";
            else if (total < CAP_MIN) valEl.className = "status-value under-min";
            else valEl.className = "status-value valid";

            diffEl.innerText = "Balanço: " + (diff >= 0 ? "+" : "") + formatMoney(diff);
            diffEl.style.color = diff > 0 ? "var(--success)" : (diff < 0 ? "var(--danger)" : "#aaa");

            sentEl.innerText = "Saindo: " + (names.length > 0 ? names.join(', ') : "nada");
        }

        function formatMoney(val) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                maximumFractionDigits: 2
            }).format(val);
        }

        init();
    </script>

</body>

</html>
